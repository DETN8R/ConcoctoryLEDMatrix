#include "Tlc5940.h"
//#DEFINE brightness 4095
int matrixWidth = 16;
int matrixHeight = 5;

int led[16][5] = {
	{0 , 16, 32, 48, 64},
	{1 , 17, 33, 49, 65},
	{2 , 18, 34, 50, 66},
	{3 , 19, 35, 51, 67},
	{4 , 20, 36, 52, 68},
	{5 , 21, 37, 53, 69},
	{6 , 22, 38, 54, 70},
	{7 , 23, 39, 55, 71},
	{8 , 24, 40, 56, 72},
	{9 , 25, 41, 57, 73},
	{10, 26, 42, 58, 74},
	{11, 27, 43, 59, 75},
	{12, 28, 44, 60, 76},
	{13, 29, 45, 61, 77},
	{14, 30, 46, 62, 78},
	{15, 31, 47, 63, 79}
};

const int letter_A[5][5] = {
	{0,4095,4095,4095,0},
	{4095,0,0,0,4095},
	{4095,4095,4095,4095,4095},
	{4095,0,0,0,4095},
	{4095,0,0,0,4095}
};

const int letter_B[5][5] = {
	{4095,4095,4095,4095,0},
	{4095,0,0,0,4095},
	{4095,4095,4095,4095,0},
	{4095,0,0,0,4095},
	{4095,4095,4095,4095,0}
};

const int letter_C[5][5] = {
	{0,4095,4095,4095,4095},
	{4095,0,0,0,0},
	{4095,0,0,0,0},
	{4095,0,0,0,0},
	{0,4095,4095,4095,4095}
};

const int letter_D[5][5] = {
	{4095,4095,4095,4095,0},
	{4095,0,0,0,4095},
	{4095,0,0,0,4095},
	{4095,0,0,0,4095},
	{4095,4095,4095,4095,0}
};

const int letter_E[5][5] = {
	{4095,4095,4095,4095,4095},
	{4095,0,0,0,0},
	{4095,4095,4095,4095,0},
	{4095,0,0,0,0},
	{4095,4095,4095,4095,4095}
};
const int letter_F[5][5] = {
	{4095,4095,4095,4095,4095},
	{4095,0,0,0,0},
	{4095,4095,4095,4095,0},
	{4095,0,0,0,0},
	{4095,0,0,0,0}
};

const int letter_G[5][5] = {
	{0,4095,4095,4095,4095},
	{4095,0,0,0,0},
	{4095,0,4095,4095,0},
	{4095,0,0,0,4095},
	{0,4095,4095,4095,0}
};
const int letter_H[5][5] = {
	{4095,0,0,0,4095},
	{4095,0,0,0,4095},
	{4095,4095,4095,4095,4095},
	{4095,0,0,0,4095},
	{4095,0,0,0,4095}
};
const int letter_I[5][5] = {
	{4095,4095,4095,4095,4095},
	{0,0,4095,0,0},
	{0,0,4095,0,0},
	{0,0,4095,0,0},
	{4095,4095,4095,4095,4095}
};
const int letter_J[5][5] = {
	{0,0,0,0,4095},
	{0,0,0,0,4095},
	{4095,0,0,0,4095},
	{4095,0,0,0,4095},
	{0,4095,4095,4095,0}
};
const int letter_K[5][5] = {
	{4095,0,0,0,4095},
	{4095,0,0,4095,0},
	{4095,4095,4095,0,0},
	{4095,0,0,4095,0},
	{4095,0,0,0,4095}
};
const int letter_L[5][5] = {
	{4095,0,0,0,0},
	{4095,0,0,0,0},
	{4095,0,0,0,0},
	{4095,0,0,0,0},
	{4095,4095,4095,4095,4095}
};
const int letter_M[5][5] = {
	{4095,0,0,0,4095},
	{4095,4095,0,4095,4095},
	{4095,0,4095,0,4095},
	{4095,0,0,0,4095},
	{4095,0,0,0,4095}
};
const int letter_N[5][5] = {
	{4095,0,0,0,4095},
	{4095,4095,0,0,4095},
	{4095,0,4095,0,4095},
	{4095,0,0,4095,4095},
	{4095,0,0,0,4095}
};
const int letter_O[5][5] = {
	{0,4095,4095,4095,0},
	{4095,0,0,0,4095},
	{4095,0,0,0,4095},
	{4095,0,0,0,4095},
	{0,4095,4095,4095,0}
};
const int letter_P[5][5] = {
	{4095,4095,4095,4095,0},
	{4095,0,0,0,4095},
	{4095,0,0,0,4095},
	{4095,4095,4095,4095,0},
	{4095,0,0,0,0}
};
const int letter_Q[5][5] = {
	{0,4095,4095,0,0},
	{4095,0,0,4095,0},
	{4095,0,0,4095,0},
	{4095,0,4095,4095,0},
	{0,4095,4095,0,4095}
};
const int letter_R[5][5] = {
	{4095,4095,4095,4095,0},
	{4095,0,0,0,4095},
	{4095,4095,4095,4095,0},
	{4095,0,0,0,4095},
	{4095,0,0,0,4095}
};
const int letter_S[5][5] = {
	{0,4095,4095,4095,4095},
	{4095,0,0,0,0},
	{0,4095,4095,4095,0},
	{0,0,0,0,4095},
	{4095,4095,4095,4095,0}
};
const int letter_T[5][5] = {
	{4095,4095,4095,4095,4095},
	{0,0,4095,0,0},
	{0,0,4095,0,0},
	{0,0,4095,0,0},
	{0,0,4095,0,0}
};
const int letter_U[5][5] = {
	{4095,0,0,0,4095},
	{4095,0,0,0,4095},
	{4095,0,0,0,4095},
	{4095,0,0,0,4095},
	{0,4095,4095,4095,0}
};
const int letter_V[5][5] = {
	{4095,0,0,0,4095},
	{4095,0,0,0,4095},
	{4095,0,0,0,4095},
	{0,4095,0,4095,0},
	{0,0,4095,0,0}
};
const int letter_W[5][5] = {
	{4095,0,0,0,4095},
	{4095,0,0,0,4095},
	{4095,0,0,0,4095},
	{4095,4095,0,4095,4095},
	{4095,0,4095,0,4095}
};
const int letter_X[5][5] = {
	{4095,0,0,0,4095},
	{0,4095,0,4095,0},
	{0,0,4095,0,0},
	{0,4095,0,4095,0},
	{4095,0,0,0,4095}
};
const int letter_Y[5][5] = {
	{4095,0,0,0,4095},
	{0,4095,0,4095,0},
	{0,0,4095,0,0},
	{0,0,4095,0,0},
	{0,0,4095,0,0}
};
const int letter_Z[5][5] = {
	{4095,4095,4095,4095,4095},
	{0,0,0,4095,0},
	{0,0,4095,0,0},
	{0,4095,0,0,0},
	{4095,4095,4095,4095,4095}
};


void setup()
{
  /* Call Tlc.init() to setup the tlc.
     You can optionally pass an initial PWM value (0 - 4095) for all channels.*/
  Tlc.init();
  Tlc.clear();
  Serial.begin(9600);
}

/* This loop will create a Knight Rider-like effect if you have LEDs plugged
   into all the TLC outputs.  NUM_TLCS is defined in "tlc_config.h" in the
   library folder.  After editing tlc_config.h for your setup, delete the
   Tlc5940.o file to save the changes. */

void loop()
{
/* Commented Out For testing of other code.
  int direction = 1;
  for (int channel = 0; channel < NUM_TLCS * 16; channel += direction) {
       Tlc.clear();

    if (channel == 0) {
      direction = 1;
    } 
	else {
		Tlc.set(channel - 1, 1000);
    }
    Tlc.set(channel, 4095);
    if (channel != NUM_TLCS * 16 - 1) {
		Tlc.set(channel + 1, 1000);
    } else {
		direction = -1;
    }

    Tlc.update();
    delay(75);
  }*/
  
  int z = 0;
	for (int j = 0; j < 5; j++) { //for each column in the LED MATRIX
		for (int k = 0; k < 5; k++) { // for each LED in the column
			Tlc.set(led[15-k][4-j], letter_R[j][k]);
			Tlc.update();
			delay(20);
		}
		z++;
	}
/*
	for (int q = 0; q < 16 * 5; q++) {
		Tlc.set(q, 4095);
		Tlc.update();
		delay(50);
	}*/
	
}





